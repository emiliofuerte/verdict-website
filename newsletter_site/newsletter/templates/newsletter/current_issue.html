{% extends "newsletter/base.html" %}
{% load static %}
{% block title %}Home{% endblock %}
{% block content %}

<div class="text-center mb-4">
  <img
    src="{% static 'newsletter/jgh_artwork.png' %}"
    class="img-fluid"
    alt="JGH Artwork"
    style="max-height: 150px; border: 1.5pt solid rgb(224, 220, 209);"
  >
</div>

<p style="color:#9b9b9b; text-align: center;">Vol. {{ volume }}, Issue {{ issue }}{% if date %} | {{ date|date:"l, F j, Y" }}{% endif %}</p><br><br><br>

{% for article in articles %}
<!-- Article: {{ article.title }} -->
<div class="mb-4">
    {% if article.title_image %}
    <div style="text-align: center;">
      <img src="{{ article.title_image.url }}" alt="{{ article.title }}" style="max-height: 150px; border: 1.5pt solid rgb(224, 220, 209);">
    </div>
    {% else %}
    <h3 style="text-align: center;">{{ article.title }}</h3>
    {% endif %}

    <div style="text-align: center; color: #666; font-size: 20px;">
      by
      {% for author in article.authors.all %}
        {{ author.name }}{% if not forloop.last %}, {% endif %}
      {% empty %}
        {{ article.writer }}
      {% endfor %}
    </div><br>

    {% if article.preview_image %}
    <div class="text-center mb-4">
      <img
        src="{{ article.preview_image.url }}"
        class="img-fluid"
        alt="{{ article.title }}"
        style="max-height: 250px; border: 1.5pt solid rgb(224, 220, 209);"
      >
    </div>
    {% endif %}

    {% if article.preview_text %}
      <div style="font-size: 20px;">
        {{ article.preview_text|safe }}
      </div>
    {% endif %}

    <p style="text-align: center; font-size: 20px;">
      <a style="color: #3b4caf;" href="{{ article.get_absolute_url }}">Read here</a>
    </p>
</div>

{% if not forloop.last %}
<br>
<hr style="border: 0; border-top: 1pt solid rgb(133, 114, 108); margin: 0;">
<br><br>
{% endif %}

{% empty %}
<p style="text-align: center; font-size: 20px;">No articles in the current issue yet. Check back soon!</p>
{% endfor %}

{% endblock %}

{% block extra_css %}
<style>
  html, body {
      height: 100%;
      margin: 0;
      display: flex;
      flex-direction: column;
  }
  .content-container {
      flex: 1;
      max-width: 800px;
      margin: 2rem auto;
  }
  .footer {
      width: 100%;
      background-color: #f0eae2;
      color: #8b7765;
      padding: 4rem 1rem 1rem;
      text-align: center;
  }
  .footer p {
      margin: 0;
  }
  .footer .credit {
      text-align: right;
      color: #c0b8ac;
  }
</style>
{% endblock %}
